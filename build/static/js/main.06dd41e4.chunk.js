(this["webpackJsonpvideo-player"]=this["webpackJsonpvideo-player"]||[]).push([[0],{96:function(e,n,t){"use strict";t.r(n);var i=t(2),o=t(0),r=t(8),a=t(50),s=t(130),c=t(123),l=t(20),u=t(10),d=t(5),v=t(131),h=function(e){if(e<0||e>=86400)return"N/A";var n=Math.floor(e/60/24),t=Math.floor(e/60%24),i=Math.floor(e%60),o=n?"".concat(n,":"):"",r="".concat(t.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"));return"".concat(o).concat(r)},m=function(e){return new Promise((function(n){return setTimeout(n,e)}))},f=Object(u.a)((function(){var e=o.useContext(Ie);return Object(i.jsx)(s.a,{display:"inline-block",position:"absolute",top:"-1.3rem",bgcolor:"radial-gradient(#0003} transparent)",paddingX:2,borderRadius:100,left:"calc(".concat(e.seekHoverPositionPercentClamped,"% - 18px)"),visibility:e.previewPeekIsActive?"visible":"hidden",children:Object(i.jsx)(a.a,{variant:"body2",color:"secondary",children:h(e.seekHoverPositionSeconds)})})})),b=Object(u.a)((function(){var e=o.useContext(Ie);return Object(i.jsx)(s.a,{position:"absolute",height:"calc(5 / 16 * 100%)",left:0,zIndex:-1,bgcolor:"grey.800",width:"".concat(e.seekHoverPositionPercent,"%"),style:{transform:"scaleY(".concat(e.fullscreenIsActive?1.4:1,")"),transformOrigin:"top"}})})),p=function(e){return(e.fullscreenIsActive?1.4:1)*(e.previewEnabled?1:.6)},j=Object(c.a)({root:{display:"flex",alignItems:"center",position:"absolute",top:0,padding:0,height:"100%",transform:function(e){return"scaleY(".concat(p(e),")")},transformOrigin:"center"},thumb:{"&:focus, &:hover, &$active":{boxShadow:"unset"},marginTop:"unset",transform:function(e){return"scaleX(".concat(p(e),")")},opacity:function(e){return e.previewEnabled?1:0}},active:{},track:{height:"calc(5 / 16 * 100%)",pointerEvents:"none"},rail:{height:"calc(5 / 16 * 100%)",backgroundColor:"gray",opacity:.4}}),g=Object(u.a)((function(){var e=o.useContext(Ie),n=o.useMemo((function(){return{previewEnabled:e.previewPeekIsActive,fullscreenIsActive:e.fullscreenIsActive}}),[e.previewPeekIsActive,e.fullscreenIsActive]),t=j(n);return Object(i.jsxs)(s.a,{position:"relative",marginX:4,children:[Object(i.jsx)(f,{}),Object(i.jsxs)(s.a,{position:"relative",height:"16px",display:"flex",alignItems:"center",children:[Object(i.jsx)(v.a,{onMouseMove:e.handlePreviewSeek,onMouseLeave:e.cancelPreviewSeek,onMouseEnter:e.startPreviewSeek,onChange:e.handleSeek,onChangeCommitted:e.handleSeek,classes:t,min:0,step:.1,max:e.durationSeconds,valueLabelDisplay:"off",getAriaValueText:h,"aria-label":"progress-slider",value:e.currentPositionSeconds}),Object(i.jsx)(b,{})]})]})})),x=t(58),O=t.n(x),y=t(56),k=t.n(y),I=t(57),P=t.n(I),C=t(3),S=t(124),w=Object(c.a)({root:{padding:0,"&:hover":{backgroundColor:"unset"}}}),E=function(e){var n=e.children,t=e.onClick,r=Object(C.a)(e,["children","onClick"]),a=w();return Object(i.jsx)(S.a,{classes:a,disableFocusRipple:!0,disableRipple:!0,onClick:t,color:"secondary",children:o.cloneElement(o.Children.only(n),r)})},A=Object(c.a)((function(e){return{root:{display:"inline-block",margin:e.spacing(0,4,0,4)},track:{height:4},rail:{height:4,backgroundColor:"gray"},thumb:{width:16,height:16,marginTop:-6,"&:focus, &:hover, &$active":{boxShadow:"unset"},transform:function(e){var n=e.fullscreenIsActive;return"scale(".concat(n?1:.75,")")},transition:"transform .2s linear"}}})),M=Object(u.a)((function(){var e=o.useContext(Ie),n=o.useMemo((function(){return{fullscreenIsActive:e.fullscreenIsActive}}),[e.fullscreenIsActive]),t=A(n),r=e.fullscreenIsActive?"100px":"76px",a=e.pointerIsHovering?r:"0px";return Object(i.jsxs)(s.a,{display:"flex",alignItems:"center",marginX:2,onMouseEnter:e.handleVolumeOnHover,children:[Object(i.jsx)(E,{edge:"end","aria-label":"volume",onClick:e.toggleVolume,children:e.volumeLevel<=0||e.volumeIsMuted?Object(i.jsx)(k.a,{}):e.volumeLevel>=.5?Object(i.jsx)(P.a,{}):Object(i.jsx)(O.a,{})}),Object(i.jsx)(s.a,{display:"flex",alignItems:"center",overflow:"hidden",width:a,style:{transition:"width .2s linear"},children:Object(i.jsx)(v.a,{classes:t,min:0,step:.01,max:1,color:"secondary",onChange:e.handleVolumeChange,valueLabelDisplay:"off","aria-label":"volume-slider",value:e.volumeIsMuted?0:e.volumeLevel})})]})})),H=t(37),L=t(49),R=t(129),V=t(132),T=t(59),F=t.n(T),D=t(125),B=t(60),U=t.n(B),z=Object(c.a)((function(e){return{paper:{maxHeight:function(e){return e.maxHeight},backgroundColor:"#000d","& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}})),N=Object(c.a)((function(e){return{root:{marginRight:e.spacing(2)}}})),X=[.25,.5,.75,1,1.25,1.5,1.75,2],q={vertical:"bottom",horizontal:"right"},W={vertical:"bottom",horizontal:"right"},Y={variant:"body2"},J={opacity:1},$={opacity:0},G=Object(u.a)((function(e){var n=e.aboveControlsRef,t=void 0===n?null:n,r=o.useContext(Ie),a=Object(L.usePopupState)({variant:"popover",popupId:"settingsMenu"}),c=o.useState(3),u=Object(l.a)(c,2),d=u[0],v=u[1],h=500;if(t){var m=Math.min(t.clientHeight-10,500);h=Math.max(50,m)}var f=o.useMemo((function(){return{maxHeight:h}}),[h]),b=z(f),p=N();o.useEffect((function(){t&&a.setAnchorEl(t)}),[a,t]);var j=o.useCallback((function(e,n){return function(t){v(n),r.handlePlaybackSpeedChange(e),a.close()}}),[a,r,v]);return Object(i.jsxs)(s.a,{children:[Object(i.jsx)(E,Object(H.a)(Object(H.a)({edge:"end","aria-label":"settings"},Object(L.bindToggle)(a)),{},{children:Object(i.jsx)(F.a,{})})),Object(i.jsxs)(R.a,Object(H.a)(Object(H.a)({},Object(L.bindMenu)(a)),{},{variant:"menu",getContentAnchorEl:null,anchorOrigin:q,transformOrigin:W,classes:b,disablePortal:!0,keepMounted:!0,children:[Object(i.jsx)(V.a,{divider:!0,children:Object(i.jsx)(D.a,{primaryTypographyProps:Y,primary:"Playback Speed"})}),X.map((function(e,n){var t=1===e?"Normal":e.toString().padStart(3," "),r=d===n,a=o.useCallback(j(e,n),[j]);return Object(i.jsxs)(V.a,{onClick:a,children:[Object(i.jsx)(U.a,{color:"secondary",classes:p,style:r?J:$}),Object(i.jsx)(D.a,{primaryTypographyProps:Y,primary:t})]},t)}))]}))]})})),K=t(62),Q=t.n(K),Z=t(61),_=t.n(Z),ee=Object(u.a)((function(){var e=o.useContext(Ie);return Object(i.jsx)(E,{onClick:e.handleFullscreen,"aria-label":"full-screen",children:e.fullscreenIsActive?Object(i.jsx)(_.a,{fontSize:"large"}):Object(i.jsx)(Q.a,{fontSize:"large"})})})),ne=t(64),te=t.n(ne),ie=t(63),oe=t.n(ie),re=Object(u.a)((function(){var e=o.useContext(Ie);return Object(i.jsx)(E,{onClick:e.handlePlayPause,edge:"end","aria-label":"play or pause",children:e.videoIsPlaying?Object(i.jsx)(oe.a,{fontSize:"large"}):Object(i.jsx)(te.a,{fontSize:"large"})})})),ae=t(65),se=t.n(ae),ce=t(66),le=t.n(ce),ue=Object(c.a)({actionAnimationStart:{fontSize:"4rem",opacity:.5},actionRestState:{transition:"all 0.5s ease-out",fontSize:"8rem",opacity:0}}),de=Object(u.a)((function(){var e=o.useContext(Ie),n=ue(),t=o.useMemo((function(){return{root:e.videoClickAnimationDisplaying?n.actionAnimationStart:n.actionRestState}}),[e.videoClickAnimationDisplaying,n]),r=e.videoIsPlaying?se.a:le.a;return Object(i.jsx)(s.a,{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",position:"absolute",zIndex:1,top:0,left:0,bgcolor:e.seekIsPending?"#000a":"initial",children:Object(i.jsx)(r,{classes:t,color:"secondary"})})})),ve=Object(c.a)({root:{lineHeight:"100%"}}),he=Object(u.a)((function(){var e=o.useContext(Ie),n=ve();return Object(i.jsx)(s.a,{paddingTop:1,display:"flex",alignItems:"center",children:Object(i.jsx)(a.a,{classes:n,variant:"body2",color:"secondary",children:"".concat(h(e.currentPositionSeconds)," \n          / ").concat(h(e.durationSeconds))})})})),me=Object(c.a)({controlsAndProgress:{background:"linear-gradient(0deg, #000a, transparent)"},controlsAndProgressActive:{opacity:1},controlsAndProgressIdle:{transition:"all 0.2s linear",opacity:0},cursorOn:{cursor:"auto"},cursorOff:{transition:"all 0.2s linear",cursor:"none"}}),fe=Object(u.a)((function(){var e=me(),n=o.useContext(Ie),t=o.useRef(null),r=o.useState(null),a=Object(l.a)(r,2),c=a[0],u=a[1],v=o.useCallback((function(){var e;null===t||void 0===t||null===(e=t.current)||void 0===e||e.cancel();var i=Object(d.h)(n.setUserAsActive());i.catch((function(){return null})),t.current=i}),[n,t]),h=o.useCallback((function(){var e;null===t||void 0===t||null===(e=t.current)||void 0===e||e.cancel(),n.setUserAsIdle()}),[n,t]);return Object(i.jsxs)(s.a,{onMouseLeave:h,onMouseEnter:v,onClick:v,onMouseMove:v,onTouchMove:v,onTouchStart:v,className:n.userIsIdle?e.cursorOff:e.cursorOn,height:"100%",width:"100%",position:"absolute",zIndex:1,top:0,left:0,children:[Object(i.jsx)(de,{}),Object(i.jsxs)(s.a,{className:n.userIsIdle?e.controlsAndProgressIdle:e.controlsAndProgressActive,display:"flex",flexDirection:"column",width:"100%",height:"100%",position:"relative",zIndex:2,children:[Object(i.jsx)(s.a,{flexGrow:1,ref:u,onClick:n.handleVideoClick}),Object(i.jsxs)(s.a,{className:e.controlsAndProgress,children:[Object(i.jsx)(g,{}),Object(i.jsxs)(s.a,{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:2,paddingX:5,children:[Object(i.jsxs)(s.a,{display:"flex",alignItems:"center",onMouseLeave:n.handleVolumeOnHoverExit,children:[Object(i.jsx)(re,{}),Object(i.jsx)(M,{}),Object(i.jsx)(he,{})]}),Object(i.jsxs)(s.a,{display:"flex",alignItems:"center",children:[Object(i.jsx)(G,{aboveControlsRef:c}),Object(i.jsx)(ee,{})]})]})]})]})]})})),be=t(23),pe=t.n(be),je=t(46),ge=t(27),xe=t(30),Oe=t.n(xe);Object(d.f)({enforceActions:"always",computedRequiresReaction:!0,reactionRequiresObservable:!0,observableRequiresReaction:!0,disableErrorBoundaries:!0});var ye=function(){function e(){var n=this;Object(je.a)(this,e),this.videoElement=null,this.videoContainer=null,this.videoIsPlaying=!1,this.volumeLevel=1,this.volumeIsMuted=!1,this.currentPositionSeconds=0,this.durationSeconds=0,this.fullscreenIsActive=!1,this.videoClickAnimationDisplaying=!1,this.userIsIdle=!1,this.seekIsPending=!1,this.videoWasPlayingBeforeSeek=!1,this.seekHoverPositionPercent=0,this.previewPeekIsActive=!1,this.pointerIsHovering=!1,this.handleVideoClick=pe.a.mark((function e(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(0);case 2:case"end":return e.stop()}}),e)})),this.setUserAsActive=pe.a.mark((function e(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(0);case 2:case"end":return e.stop()}}),e)})),this.setInitialState=function(){n.videoIsPlaying=!1,n.volumeLevel=1,n.volumeIsMuted=!1,n.currentPositionSeconds=0,n.durationSeconds=0,n.fullscreenIsActive=!1,n.videoClickAnimationDisplaying=!1,n.userIsIdle=!1,n.seekIsPending=!1,n.videoWasPlayingBeforeSeek=!1,n.seekHoverPositionPercent=0,n.previewPeekIsActive=!1,n.pointerIsHovering=!1,n.handleVideoClick=n.handleVideoClickFlow.bind(n),n.setUserAsActive=n.setUserAsActiveFlow.bind(n)},this.setVideoElement=function(e){n.videoElement=e,e&&(e.addEventListener("loadedmetadata",n.updateDuration),e.addEventListener("ended",n.handleEnd))},this.setVideoContainer=function(e){n.videoContainer=e,Oe.a.addEventListener("fullscreenchange",n.handleFullscreenChange)},this.cleanUp=function(){var e,t,i;null===(e=n.videoElement)||void 0===e||e.removeEventListener("loadedmetadata",n.updateDuration),null===(t=n.videoElement)||void 0===t||t.removeEventListener("ended",n.handleEnd),null===(i=n.videoContainer)||void 0===i||i.removeEventListener("fullscreenchange",n.handleFullscreenChange),n.videoElement=null,n.videoContainer=null},this.setUserAsIdle=function(){n.videoIsPlaying&&(n.userIsIdle=!0)},this.handleEnd=function(){n.videoIsPlaying=!1},this.updateTime=function(){n.videoElement&&(n.durationSeconds||n.updateDuration(),n.currentPositionSeconds=n.videoElement.currentTime,n.videoElement.paused||n.videoElement.ended||window.requestAnimationFrame(n.updateTime))},this.updateDuration=function(){n.videoElement&&(n.durationSeconds=Math.floor(n.videoElement.duration))},this.handlePlayPause=function(){n.videoElement&&(n.videoElement.paused||n.videoElement.ended?(n.videoElement.play(),n.videoIsPlaying=!0,n.updateTime()):(n.videoElement.pause(),n.videoIsPlaying=!1))},this.handlePreviewSeek=function(e){var t=e.currentTarget.getBoundingClientRect(),i=t.width,o=t.left;n.videoContainer&&!n.seekIsPending&&(n.seekHoverPositionPercent=100*(e.pageX-o)/i)},this.startPreviewSeek=function(e){n.handlePreviewSeek(e),n.previewPeekIsActive=!0},this.cancelPreviewSeek=function(e){n.seekHoverPositionPercent=0,n.previewPeekIsActive=!1},this.handleSeek=function(e,t){if("number"===typeof t&&n.videoElement&&["mousedown","mouseup","mousemove"].includes(e.type)){var i="mousedown"===e.type,o="mouseup"===e.type;i?(n.videoElement.paused||n.videoElement.ended?n.videoWasPlayingBeforeSeek=!1:(n.videoElement.pause(),n.videoIsPlaying=!1,n.videoWasPlayingBeforeSeek=!0),n.seekIsPending=!0):o&&(n.videoWasPlayingBeforeSeek&&(n.videoElement.play(),n.videoIsPlaying=!0,n.updateTime()),n.seekIsPending=!1),n.videoElement.currentTime=t,n.currentPositionSeconds=t}},this.handleFullscreen=function(){Oe.a.fullscreenEnabled&&n.videoContainer&&(n.fullscreenIsActive&&Oe.a.fullscreenElement?Oe.a.exitFullscreen():Oe.a.requestFullscreen(n.videoContainer))},this.handleFullscreenChange=function(){Oe.a.fullscreenEnabled&&n.videoContainer&&(Oe.a.fullscreenElement?(n.fullscreenIsActive=!0,document.documentElement.style.fontSize="150%"):(n.fullscreenIsActive=!1,document.documentElement.style.fontSize="100%"))},this.handleVolumeChange=function(e,t){"number"===typeof t&&(!n.videoElement||t<0||t>1||!Number.isFinite(t)||(n.videoElement.volume=t,n.volumeLevel=t))},this.toggleVolume=function(){n.videoElement&&(n.volumeIsMuted=!n.volumeIsMuted,n.videoElement.muted=n.volumeIsMuted)},this.handlePlaybackSpeedChange=function(e){!n.videoElement||e<0||e>2||!Number.isFinite(e)||(n.videoElement.playbackRate=e)},this.handleVolumeOnHover=function(){n.pointerIsHovering=!0},this.handleVolumeOnHoverExit=function(){n.pointerIsHovering=!1},this.setInitialState(),Object(d.m)(this,{videoElement:!1,videoContainer:!1,setVideoElement:!1,cleanUp:!1,videoWasPlayingBeforeSeek:!1})}return Object(ge.a)(e,[{key:"handleVideoClickFlow",value:pe.a.mark((function e(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.handlePlayPause(),this.videoClickAnimationDisplaying=!0,e.next=4,new Promise(window.requestAnimationFrame);case 4:this.videoClickAnimationDisplaying=!1;case 5:case"end":return e.stop()}}),e,this)}))},{key:"setUserAsActiveFlow",value:pe.a.mark((function e(){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.userIsIdle=!1,e.next=3,m(4e3);case 3:this.setUserAsIdle();case 4:case"end":return e.stop()}}),e,this)}))},{key:"seekHoverPositionSeconds",get:function(){var e=this.seekHoverPositionPercent*this.durationSeconds/100;return this.seekIsPending?this.currentPositionSeconds:e}},{key:"seekHoverPositionPercentClamped",get:function(){var e=100*this.currentPositionSeconds/this.durationSeconds,n=this.seekIsPending?e:this.seekHoverPositionPercent;return Math.max(5,Math.min(n,95))}}]),e}(),ke=Object(c.a)({video:{display:"block",objectFit:"contain",height:"100%",width:"100%"}}),Ie=o.createContext(null),Pe=function(e){var n=e.posterUrl,t=void 0===n?"":n,r=e.manualDownloadUrl,a=void 0===r?"":r,c=e.sourceList,l=void 0===c?[]:c,u=ke(),d=o.useRef(null),v=o.useRef(null),h=o.useRef(null),m=o.useCallback((function(){return h.current||(h.current=new ye),h.current}),[h]);return o.useEffect((function(){var e=m();return d.current&&e.setVideoElement(d.current),v.current&&e.setVideoContainer(v.current),e.cleanUp}),[m]),o.useEffect((function(){m().setInitialState()})),Object(i.jsx)(s.a,{position:"relative",border:2,borderColor:"grey.700",ref:v,children:Object(i.jsxs)(Ie.Provider,{value:m(),children:[Object(i.jsxs)("video",{id:"video",ref:d,className:u.video,preload:"metadata",poster:t,children:[l.map((function(e){var n=e.url,t=e.type;return Object(i.jsx)("source",{src:n,type:t},n)})),Object(i.jsx)("a",{href:a,children:"Download Video"})]}),Object(i.jsx)(fe,{})]})})},Ce=function(){return Object(i.jsx)(s.a,{display:"flex",justifyContent:"center",children:Object(i.jsxs)(s.a,{height:480,marginY:16,marginX:"auto",children:[Object(i.jsx)(Pe,{posterUrl:"./preview/video.jpg",manualDownloadUrl:"./video/video.mp4",sourceList:[{url:"./video/video.mp4",type:"video/mp4"}]}),Object(i.jsx)(s.a,{display:"flex",justifyContent:"center",marginTop:2,children:Object(i.jsx)(a.a,{variant:"h4",gutterBottom:!0,children:"Big Buck Bunny"})})]})})},Se=t(128),we=t(127),Ee=t(48),Ae=t(126),Me=Object(Ae.a)({overrides:{MuiCssBaseline:{"@global":{"*":{scrollbarColor:"#424242 #8e8e8e"},"*::-webkit-scrollbar":{width:10},"*::-webkit-scrollbar-track":{background:"#424242"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#8e8e8e",borderRadius:4}}}},spacing:4,palette:{primary:{main:"#ff5722"},secondary:{main:"#ffffff"},error:{main:Ee.a.A400},background:{default:"#ccbfa0"}}});r.render(Object(i.jsx)(o.StrictMode,{children:Object(i.jsxs)(we.a,{theme:Me,children:[Object(i.jsx)(Se.a,{}),Object(i.jsx)(Ce,{})]})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.06dd41e4.chunk.js.map