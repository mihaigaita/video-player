(this["webpackJsonpvideo-player"]=this["webpackJsonpvideo-player"]||[]).push([[0],{89:function(e,n,t){"use strict";t.r(n);var i=t(2),o=t(0),r=t(8),a=t(45),s=t(119),c=t(19),l=t(10),d=t(5),u=t(4),v=t(127),p=function(e){if(e<0||e>=86400)return"N/A";var n=Math.floor(e/60/24),t=Math.floor(e/60%24),i=Math.floor(e%60),o=n?"".concat(n,":"):"",r="".concat(t.toString().padStart(2,"0"),":").concat(i.toString().padStart(2,"0"));return"".concat(o).concat(r)},h=function(e){return new Promise((function(n){return setTimeout(n,e)}))},b=Object(s.a)((function(e){return{root:{display:"inline-block",position:"absolute",top:"-1.3rem",background:"radial-gradient(#0003, transparent)",padding:e.spacing(0,2),borderRadius:100}}})),m=Object(l.a)((function(){var e=o.useContext(Se),n=b(),t={left:"calc(".concat(e.seekHoverPositionPercentClamped,"% - 18px)"),opacity:e.previewPeekIsActive?1:0};return Object(i.jsx)("div",{className:n.root,style:t,children:Object(i.jsx)(a.a,{variant:"body2",color:"secondary",children:p(e.seekHoverPositionSeconds)})})})),j=Object(s.a)({seekPreview:{top:"50%",position:"absolute",height:5,marginTop:-2.5,left:0,zIndex:-1,background:"#666"}}),f=Object(l.a)((function(){var e=o.useContext(Se),n=j();return Object(i.jsx)("div",{className:n.seekPreview,style:{width:"".concat(e.seekHoverPositionPercent,"%")}})})),g=Object(s.a)((function(e){return{top:{position:"relative",margin:e.spacing(0,4)},progressContainer:{position:"relative",height:16}}})),O=Object(s.a)({root:{display:"block",position:"absolute",top:0,padding:0,height:16},thumb:{top:"50%",marginTop:-6,"&:focus, &:hover, &$active":{boxShadow:"unset"},opacity:function(e){return e.previewEnabled?1:0}},active:{},track:{top:"50%",height:function(e){return e.previewEnabled?5:3},marginTop:function(e){return e.previewEnabled?-2.5:-1.5},pointerEvents:"none"},rail:{top:"50%",height:function(e){return e.previewEnabled?5:3},marginTop:function(e){return e.previewEnabled?-2.5:-1.5},backgroundColor:"gray",opacity:.4}}),k=Object(l.a)((function(){var e=o.useContext(Se),n=o.useMemo((function(){return{previewEnabled:e.previewPeekIsActive}}),[e.previewPeekIsActive]),t=O(n),r=g();return Object(i.jsxs)("div",{className:r.top,children:[Object(i.jsx)(m,{}),Object(i.jsxs)("div",{className:r.progressContainer,children:[Object(i.jsx)(v.a,{onMouseMove:e.handlePreviewSeek,onMouseLeave:e.cancelPreviewSeek,onMouseEnter:e.startPreviewSeek,onChange:e.handleSeek,onChangeCommitted:e.handleSeek,classes:t,min:0,step:.1,max:e.durationSeconds,valueLabelDisplay:"off",getAriaValueText:p,"aria-label":"progress-slider",value:e.currentPositionSeconds}),Object(i.jsx)(f,{})]})]})})),x=t(55),y=t.n(x),P=t(53),C=t.n(P),I=t(54),w=t.n(I),E=t(3),S=t(121),A=Object(s.a)({root:{padding:0,"&:hover":{backgroundColor:"unset"}}}),M=function(e){var n=e.children,t=e.onClick,r=Object(E.a)(e,["children","onClick"]),a=A();return Object(i.jsx)(S.a,{classes:a,disableFocusRipple:!0,disableRipple:!0,onClick:t,color:"secondary",children:o.cloneElement(o.Children.only(n),r)})},H=Object(s.a)((function(e){return{wrapper:{display:"flex",alignItems:"center",margin:e.spacing(0,2)}}})),N=Object(s.a)((function(e){return{root:{display:"inline-block",margin:e.spacing(0,2,0,4)},track:{height:4},rail:{height:4,backgroundColor:"gray"},thumb:{marginTop:-4,"&:focus, &:hover, &$active":{boxShadow:"unset"}}}})),R=Object(s.a)({container:{display:"flex",alignItems:"center",transition:"width .2s cubic-bezier(0.4, 0.0, 1, 1)",overflow:"hidden"}}),L=Object(l.a)((function(){var e=H(),n=o.useContext(Se),t=N(),r=R({pointerIsHovering:n.pointerIsHovering}),a=o.useMemo((function(){return{width:n.pointerIsHovering?76:0}}),[n.pointerIsHovering]);return Object(i.jsxs)("div",{className:e.wrapper,onMouseEnter:n.handleVolumeOnHover,children:[Object(i.jsx)(M,{edge:"end","aria-label":"volume",onClick:n.toggleVolume,children:n.volumeLevel<=0||n.volumeIsMuted?Object(i.jsx)(C.a,{}):n.volumeLevel>=.5?Object(i.jsx)(w.a,{}):Object(i.jsx)(y.a,{})}),Object(i.jsx)("div",{className:r.container,style:a,children:Object(i.jsx)(v.a,{classes:t,min:0,step:.01,max:1,color:"secondary",onChange:n.handleVolumeChange,valueLabelDisplay:"off","aria-label":"volume-slider",value:n.volumeIsMuted?0:n.volumeLevel})})]})})),T=t(35),V=t(44),F=t(126),D=t(128),z=t(56),B=t.n(z),U=t(122),W=t(57),q=t.n(W),G=Object(s.a)((function(e){return{paper:{backgroundColor:"#000d","& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}})),J=Object(s.a)((function(e){return{root:{marginRight:e.spacing(2)}}})),$=[.25,.5,.75,1,1.25,1.5,1.75,2],X={vertical:"bottom",horizontal:"right"},K={vertical:"bottom",horizontal:"right"},Q={variant:"body2"},Y={opacity:1},Z={opacity:0},_=Object(l.a)((function(e){var n=e.aboveControlsRef,t=void 0===n?null:n,r=o.useContext(Se),a=Object(V.usePopupState)({variant:"popover",popupId:"settingsMenu"}),s=o.useState(3),l=Object(c.a)(s,2),d=l[0],u=l[1],v=500;if(t){var p=Math.min(t.clientHeight-10,500);v=Math.max(50,p)}var h=o.useMemo((function(){return{maxHeight:v}}),[v]),b=G(),m=J();o.useEffect((function(){t&&a.setAnchorEl(t)}),[a,t]);var j=o.useCallback((function(e,n){return function(t){u(n),r.handlePlaybackSpeedChange(e),a.close()}}),[a,r,u]);return Object(i.jsxs)("div",{children:[Object(i.jsx)(M,Object(T.a)(Object(T.a)({edge:"end","aria-label":"settings"},Object(V.bindToggle)(a)),{},{children:Object(i.jsx)(B.a,{})})),Object(i.jsxs)(F.a,Object(T.a)(Object(T.a)({},Object(V.bindMenu)(a)),{},{variant:"menu",getContentAnchorEl:null,anchorOrigin:X,transformOrigin:K,classes:b,disablePortal:!0,keepMounted:!0,style:h,children:[Object(i.jsx)(D.a,{divider:!0,children:Object(i.jsx)(U.a,{primaryTypographyProps:Q,primary:"Playback Speed"})}),$.map((function(e,n){var t=1===e?"Normal":e.toString().padStart(3," "),r=d===n,a=o.useCallback(j(e,n),[j]);return Object(i.jsxs)(D.a,{onClick:a,children:[Object(i.jsx)(q.a,{color:"secondary",classes:m,style:r?Y:Z}),Object(i.jsx)(U.a,{primaryTypographyProps:Q,primary:t})]},t)}))]}))]})})),ee=t(59),ne=t.n(ee),te=t(58),ie=t.n(te),oe=Object(l.a)((function(){var e=o.useContext(Se);return Object(i.jsx)(M,{onClick:e.handleFullscreen,"aria-label":"full-screen",children:e.fullscreenIsActive?Object(i.jsx)(ie.a,{fontSize:"large"}):Object(i.jsx)(ne.a,{fontSize:"large"})})})),re=t(61),ae=t.n(re),se=t(60),ce=t.n(se),le=Object(l.a)((function(){var e=o.useContext(Se);return Object(i.jsx)(M,{onClick:e.handlePlayPause,edge:"end","aria-label":"play or pause",children:e.videoIsPlaying?Object(i.jsx)(ce.a,{fontSize:"large"}):Object(i.jsx)(ae.a,{fontSize:"large"})})})),de=t(62),ue=t.n(de),ve=t(63),pe=t.n(ve),he=Object(s.a)({actionFeedbackWrapper:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",position:"absolute",zIndex:1,top:0,left:0},backgroundMask:{background:"#000a"},actionAnimationStart:{fontSize:"4rem",opacity:.5},actionRestState:{transition:"all 0.5s ease-out",fontSize:"8rem",opacity:0}}),be=Object(l.a)((function(){var e=o.useContext(Se),n=he(),t=o.useMemo((function(){return{root:e.videoClickAnimationDisplaying?n.actionAnimationStart:n.actionRestState}}),[e.videoClickAnimationDisplaying,n]),r=e.videoIsPlaying?ue.a:pe.a;return Object(i.jsx)("div",{className:Object(u.a)(n.actionFeedbackWrapper,e.seekIsPending&&n.backgroundMask),children:Object(i.jsx)(r,{classes:t,color:"secondary"})})})),me=Object(s.a)((function(e){return{top:{paddingTop:e.spacing(1),display:"flex",alignItems:"center"}}})),je=Object(s.a)({root:{lineHeight:"100%"}}),fe=Object(l.a)((function(){var e=o.useContext(Se),n=me(),t=je();return Object(i.jsx)("div",{className:n.top,children:Object(i.jsx)(a.a,{classes:t,variant:"body2",color:"secondary",children:"".concat(p(e.currentPositionSeconds)," \n          / ").concat(p(e.durationSeconds))})})})),ge=Object(s.a)((function(e){return{controlsRoot:{height:"100%",width:"100%",position:"absolute",zIndex:1,top:0,left:0},buttons:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:e.spacing(2),padding:e.spacing(0,5)},aboveControls:{flexGrow:1},controlsAndProgress:{background:"linear-gradient(0deg, #000a, transparent)"},container:{display:"flex",flexDirection:"column",width:"100%",height:"100%",position:"relative",zIndex:2},controlsAndProgressActive:{opacity:1},controlsAndProgressIdle:{transition:"all 0.2s linear",opacity:0},cursorOn:{cursor:"auto"},cursorOff:{transition:"all 0.2s linear",cursor:"none"},controlGroup:{display:"flex",alignItems:"center"}}})),Oe=Object(l.a)((function(){var e=ge(),n=o.useContext(Se),t=o.useRef(null),r=o.useState(null),a=Object(c.a)(r,2),s=a[0],l=a[1],v=o.useCallback((function(){var e;null===t||void 0===t||null===(e=t.current)||void 0===e||e.cancel();var i=Object(d.h)(n.setUserAsActive());i.catch((function(){return null})),t.current=i}),[n,t]),p=o.useCallback((function(){var e;null===t||void 0===t||null===(e=t.current)||void 0===e||e.cancel(),n.setUserAsIdle()}),[n,t]);return Object(i.jsxs)("div",{onMouseLeave:p,onMouseEnter:v,onClick:v,onMouseMove:v,onTouchMove:v,onTouchStart:v,className:Object(u.a)(e.controlsRoot,n.userIsIdle?e.cursorOff:e.cursorOn),children:[Object(i.jsx)(be,{}),Object(i.jsxs)("div",{className:Object(u.a)(e.container,n.userIsIdle?e.controlsAndProgressIdle:e.controlsAndProgressActive),children:[Object(i.jsx)("div",{className:e.aboveControls,ref:l,onClick:n.handleVideoClick}),Object(i.jsxs)("div",{className:e.controlsAndProgress,children:[Object(i.jsx)(k,{}),Object(i.jsxs)("div",{className:e.buttons,children:[Object(i.jsxs)("div",{className:e.controlGroup,onMouseLeave:n.handleVolumeOnHoverExit,children:[Object(i.jsx)(le,{}),Object(i.jsx)(L,{}),Object(i.jsx)(fe,{})]}),Object(i.jsxs)("div",{className:e.controlGroup,children:[Object(i.jsx)(_,{aboveControlsRef:s}),Object(i.jsx)(oe,{})]})]})]})]})]})})),ke=t(22),xe=t.n(ke),ye=t(41),Pe=t(24),Ce=t(27),Ie=t.n(Ce);Object(d.f)({enforceActions:"always",computedRequiresReaction:!0,reactionRequiresObservable:!0,observableRequiresReaction:!0,disableErrorBoundaries:!0});var we=function(){function e(){var n=this;Object(ye.a)(this,e),this.videoElement=null,this.videoContainer=null,this.videoIsPlaying=!1,this.volumeLevel=1,this.volumeIsMuted=!1,this.currentPositionSeconds=0,this.durationSeconds=0,this.fullscreenIsActive=!1,this.videoClickAnimationDisplaying=!1,this.userIsIdle=!1,this.seekIsPending=!1,this.videoWasPlayingBeforeSeek=!1,this.seekHoverPositionPercent=0,this.previewPeekIsActive=!1,this.pointerIsHovering=!1,this.handleVideoClick=xe.a.mark((function e(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(0);case 2:case"end":return e.stop()}}),e)})),this.setUserAsActive=xe.a.mark((function e(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(0);case 2:case"end":return e.stop()}}),e)})),this.setInitialState=function(){n.videoIsPlaying=!1,n.volumeLevel=1,n.volumeIsMuted=!1,n.currentPositionSeconds=0,n.durationSeconds=0,n.fullscreenIsActive=!1,n.videoClickAnimationDisplaying=!1,n.userIsIdle=!1,n.seekIsPending=!1,n.videoWasPlayingBeforeSeek=!1,n.seekHoverPositionPercent=0,n.previewPeekIsActive=!1,n.pointerIsHovering=!1,n.handleVideoClick=n.handleVideoClickFlow.bind(n),n.setUserAsActive=n.setUserAsActiveFlow.bind(n)},this.setVideoElement=function(e){n.videoElement=e,e&&(e.addEventListener("loadedmetadata",n.updateDuration),e.addEventListener("ended",n.handleEnd))},this.setVideoContainer=function(e){n.videoContainer=e,Ie.a.addEventListener("fullscreenchange",n.handleFullscreenChange)},this.cleanUp=function(){var e,t,i;null===(e=n.videoElement)||void 0===e||e.removeEventListener("loadedmetadata",n.updateDuration),null===(t=n.videoElement)||void 0===t||t.removeEventListener("ended",n.handleEnd),null===(i=n.videoContainer)||void 0===i||i.removeEventListener("fullscreenchange",n.handleFullscreenChange),n.videoElement=null,n.videoContainer=null},this.setUserAsIdle=function(){n.videoIsPlaying&&(n.userIsIdle=!0)},this.handleEnd=function(){n.videoIsPlaying=!1},this.updateTime=function(){n.videoElement&&(n.durationSeconds||n.updateDuration(),n.currentPositionSeconds=n.videoElement.currentTime,n.videoElement.paused||n.videoElement.ended||window.requestAnimationFrame(n.updateTime))},this.updateDuration=function(){n.videoElement&&(n.durationSeconds=Math.floor(n.videoElement.duration))},this.handlePlayPause=function(){n.videoElement&&(n.videoElement.paused||n.videoElement.ended?(n.videoElement.play(),n.videoIsPlaying=!0,n.updateTime()):(n.videoElement.pause(),n.videoIsPlaying=!1))},this.handlePreviewSeek=function(e){var t=e.currentTarget.getBoundingClientRect(),i=t.width,o=t.left;!n.videoContainer||n.seekIsPending||i<15||(n.seekHoverPositionPercent=100*(e.pageX-o)/i)},this.startPreviewSeek=function(e){n.handlePreviewSeek(e),n.previewPeekIsActive=!0},this.cancelPreviewSeek=function(e){n.seekHoverPositionPercent=0,n.previewPeekIsActive=!1},this.handleSeek=function(e,t){if("number"===typeof t&&n.videoElement&&["mousedown","mouseup","mousemove"].includes(e.type)){var i="mousedown"===e.type,o="mouseup"===e.type;i?(n.videoElement.paused||n.videoElement.ended?n.videoWasPlayingBeforeSeek=!1:(n.videoElement.pause(),n.videoIsPlaying=!1,n.videoWasPlayingBeforeSeek=!0),n.seekIsPending=!0):o&&(n.videoWasPlayingBeforeSeek&&(n.videoElement.play(),n.videoIsPlaying=!0,n.updateTime()),n.seekIsPending=!1),n.videoElement.currentTime=t,n.currentPositionSeconds=t}},this.handleFullscreen=function(){Ie.a.fullscreenEnabled&&n.videoContainer&&(n.fullscreenIsActive&&Ie.a.fullscreenElement?Ie.a.exitFullscreen():Ie.a.requestFullscreen(n.videoContainer))},this.handleFullscreenChange=function(){Ie.a.fullscreenEnabled&&n.videoContainer&&(Ie.a.fullscreenElement?(n.fullscreenIsActive=!0,document.documentElement.style.fontSize="150%"):(n.fullscreenIsActive=!1,document.documentElement.style.fontSize="100%"))},this.handleVolumeChange=function(e,t){"number"===typeof t&&(!n.videoElement||t<0||t>1||!Number.isFinite(t)||(n.videoElement.volume=t,n.volumeLevel=t))},this.toggleVolume=function(){n.videoElement&&(n.volumeIsMuted=!n.volumeIsMuted,n.videoElement.muted=n.volumeIsMuted)},this.handlePlaybackSpeedChange=function(e){!n.videoElement||e<0||e>2||!Number.isFinite(e)||(n.videoElement.playbackRate=e)},this.handleVolumeOnHover=function(){n.pointerIsHovering=!0},this.handleVolumeOnHoverExit=function(){n.pointerIsHovering=!1},this.setInitialState(),Object(d.m)(this,{videoElement:!1,videoContainer:!1,setVideoElement:!1,cleanUp:!1,videoWasPlayingBeforeSeek:!1})}return Object(Pe.a)(e,[{key:"handleVideoClickFlow",value:xe.a.mark((function e(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.handlePlayPause(),this.videoClickAnimationDisplaying=!0,e.next=4,new Promise(window.requestAnimationFrame);case 4:this.videoClickAnimationDisplaying=!1;case 5:case"end":return e.stop()}}),e,this)}))},{key:"setUserAsActiveFlow",value:xe.a.mark((function e(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.userIsIdle=!1,e.next=3,h(4e3);case 3:this.setUserAsIdle();case 4:case"end":return e.stop()}}),e,this)}))},{key:"seekHoverPositionSeconds",get:function(){var e=this.seekHoverPositionPercent*this.durationSeconds/100;return this.seekIsPending?this.currentPositionSeconds:e}},{key:"seekHoverPositionPercentClamped",get:function(){var e=100*this.currentPositionSeconds/this.durationSeconds,n=this.seekIsPending?e:this.seekHoverPositionPercent;return Math.max(5,Math.min(n,95))}}]),e}(),Ee=Object(s.a)({videoContainer:{position:"relative",border:"2px solid #555"},video:{display:"block",objectFit:"contain",height:"100%",width:"100%"}}),Se=o.createContext(null),Ae=function(e){var n=e.posterUrl,t=void 0===n?"":n,r=e.manualDownloadUrl,a=void 0===r?"":r,s=e.sourceList,c=void 0===s?[]:s,l=Ee(),d=o.useRef(null),u=o.useRef(null),v=o.useRef(null),p=o.useCallback((function(){return v.current||(v.current=new we),v.current}),[v]);return o.useEffect((function(){var e=p();return d.current&&e.setVideoElement(d.current),u.current&&e.setVideoContainer(u.current),e.cleanUp}),[p]),o.useEffect((function(){p().setInitialState()})),Object(i.jsx)("div",{className:l.videoContainer,ref:u,children:Object(i.jsxs)(Se.Provider,{value:p(),children:[Object(i.jsxs)("video",{id:"video",ref:d,className:l.video,preload:"metadata",poster:t,children:[c.map((function(e){var n=e.url,t=e.type;return Object(i.jsx)("source",{src:n,type:t},n)})),Object(i.jsx)("a",{href:a,children:"Download Video"})]}),Object(i.jsx)(Oe,{})]})})},Me=Object(s.a)((function(e){return{topContainer:{display:"flex",justifyContent:"center"},videoContainer:{margin:e.spacing(15,"auto"),height:360,width:640},title:{display:"flex",justifyContent:"center"}}})),He=function(){var e=Me();return Object(i.jsx)("div",{className:e.topContainer,children:Object(i.jsxs)("div",{className:e.videoContainer,children:[Object(i.jsx)(Ae,{posterUrl:"./preview/video.jpg",manualDownloadUrl:"./video/video.mp4",sourceList:[{url:"./video/video.mp4",type:"video/mp4"}]}),Object(i.jsx)("div",{className:e.title,children:Object(i.jsx)(a.a,{variant:"h4",gutterBottom:!0,children:"Big Buck Bunny"})})]})})},Ne=t(125),Re=t(124),Le=t(43),Te=t(123),Ve=Object(Te.a)({overrides:{MuiCssBaseline:{"@global":{"*":{scrollbarColor:"#424242 #8e8e8e"},"*::-webkit-scrollbar":{width:10},"*::-webkit-scrollbar-track":{background:"#424242"},"*::-webkit-scrollbar-thumb":{backgroundColor:"#8e8e8e",borderRadius:4}}}},spacing:4,palette:{primary:{main:"#ff5722"},secondary:{main:"#ffffff"},error:{main:Le.a.A400},background:{default:"#ccbfa0"}}});r.render(Object(i.jsx)(o.StrictMode,{children:Object(i.jsxs)(Re.a,{theme:Ve,children:[Object(i.jsx)(Ne.a,{}),Object(i.jsx)(He,{})]})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.be12f026.chunk.js.map